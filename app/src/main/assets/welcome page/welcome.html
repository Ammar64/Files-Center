<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>onboarding</title>
    <style>
body {
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none;
    background-color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    flex-direction: column;
    height: 100%;
    width: 100vh;
}

.wrapper {
    width: 420px;
    height: 550px;
    overflow: hidden;
    position: absolute;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
}

.wrapper .carousel {
    display: flex;
    gap:20px;
    justify-content: space-evenly;
    overflow-x: auto;
    -ms-scroll-snap-type: x mandatory;
        scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* hide scrollbar for Firefox */
    -ms-overflow-style: none; /* hide scrollbar for IE/Edge */
}

.carousel::-webkit-scrollbar {
    display: none; /* hide scrollbar for Chrome, Safari, Opera */
}

.card {
    --main-color: #000;
    --submain-color: #78858F;
    --bg-color: #fff;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    position: relative;
    width: 400px; /* Fixed width */
    min-width: 400px; /* Ensure minimum width */
    max-width: 100%; /* Allow flexible width based on parent */
    height: 500px; /* Fixed height */
    display: flex;
    flex-direction: column;
    align-items: center;
    border-radius: 20px;
    background: var(--bg-color);
    scroll-snap-align: start;
    overflow: hidden; /* Ensure content within doesn't affect layout */
}

.card:last-child{
    margin-right: 20px;
}

.big-img {
    height: 300px; /* Fixed height */
    width: 100%; /* Full width */
    overflow: hidden; /* Ensure image doesn't overflow */
}

.big-img img {
    width: 100%;
    height: 100%;
    -o-object-fit: cover;
       object-fit: cover; /* Maintain aspect ratio */
    border-radius: 20px 20px 0 0; /* Rounded corners */
}

.mini-img {
    position: absolute;
    width: 114px;
    height: 114px;
    background: var(--bg-color);
    border-radius: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    top: calc(50% - 55px);
}

.mini-img img {
    width: 100px;
    height: 100px;
    -o-object-fit: cover;
       object-fit: cover; /* Maintain aspect ratio */
    border-radius: 50%; /* Rounded avatar */
}

.card-title {
    margin-top: 60px;
    font-weight: 500;
    font-size: 18px;
    color: var(--main-color);
    text-align: center;
}

.card-subtitle {
    margin-top: 10px;
    font-weight: 400;
    font-size: 15px;
    color: var(--submain-color);
    text-align: center;
}

.btns {
    margin: 10px ;
    margin-bottom: 50px;
}

.btn {
    margin-top: 15px;
    width: 76px;
    height: 31px;
    border: 2px solid var(--main-color);
    border-radius: 4px;
    font-weight: 700;
    font-size: 11px;
    color: var(--main-color);
    background: var(--bg-color);
    text-transform: uppercase;
    transition: all 0.3s;
}


.btn:hover {
    background: var(--main-color);
    color: var(--bg-color);
    }

.dots{
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 35px;
}
.dot{
    font-size: 40px;
    color: #777;
    cursor: pointer;
}
.dot.active{
    color: aqua;
}

.card.inactive .big-img img,
.card.inactive .mini-img img,
.card.inactive .card-title,
.card.inactive .card-subtitle,
.card.inactive .btns .btn,
.card.inactive .lastBtn {
    opacity: 0; /* Ensure elements are hidden */
}

@-webkit-keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@-webkit-keyframes slideIn {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideIn {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@-webkit-keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideUp {
    from {
        transform: translateY(20px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@-webkit-keyframes bounceIn {
    0%, 20%, 40%, 60%, 80%, 100% {
        transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
    }
    0% {
        opacity: 0;
        transform: scale3d(0.3, 0.3, 0.3);
    }
    20% {
        transform: scale3d(1.1, 1.1, 1.1);
    }
    40% {
        transform: scale3d(0.9, 0.9, 0.9);
    }
    60% {
        opacity: 1;
        transform: scale3d(1.03, 1.03, 1.03);
    }
    80% {
        transform: scale3d(0.97, 0.97, 0.97);
    }
    100% {
        opacity: 1;
        transform: scale3d(1, 1, 1);
    }
}

@keyframes bounceIn {
    0%, 20%, 40%, 60%, 80%, 100% {
        transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
    }
    0% {
        opacity: 0;
        transform: scale3d(0.3, 0.3, 0.3);
    }
    20% {
        transform: scale3d(1.1, 1.1, 1.1);
    }
    40% {
        transform: scale3d(0.9, 0.9, 0.9);
    }
    60% {
        opacity: 1;
        transform: scale3d(1.03, 1.03, 1.03);
    }
    80% {
        transform: scale3d(0.97, 0.97, 0.97);
    }
    100% {
        opacity: 1;
        transform: scale3d(1, 1, 1);
    }
}

.card.active .big-img img {
    -webkit-animation: fadeIn 1s ease-in-out;
            animation: fadeIn 1s ease-in-out;
}

.card.active .mini-img img {
    -webkit-animation: fadeIn 1s ease-in-out 0.5s;
            animation: fadeIn 1s ease-in-out 0.5s;
}

.card.active .card-title {
    -webkit-animation: slideIn 0.8s ease-out 1s;
            animation: slideIn 0.8s ease-out 1s;
}

.card.active .card-subtitle {
    -webkit-animation: slideUp 0.8s ease-out 1.2s;
            animation: slideUp 0.8s ease-out 1.2s;
}

.card.active .btns .btn {
    -webkit-animation: bounceIn 0.8s ease-out 1.4s;
            animation: bounceIn 0.8s ease-out 1.4s;
}

.card:last-child.active .btns .btn {
    -webkit-animation-duration: .8s;
            animation-duration: .8s;
    -webkit-animation-delay: .5s;
            animation-delay: .5s;
}

.card.active .lastBtn {
    -webkit-animation: bounceIn 0.8s ease-out .5s;
            animation: bounceIn 0.8s ease-out .5s;
}

/* Additional Styles for Smooth Animation */
.card.active .big-img img,
.card.active .mini-img img,
.card.active .card-title,
.card.active .card-subtitle,
.card.active .btns .btn,
.card.active .lastBtn {
    opacity: 0; /* Ensure elements are hidden */
    -webkit-animation-fill-mode: forwards;
            animation-fill-mode: forwards; /* Retain the end state of the animation */
}

.lastBtn {
--glow-color: rgb(217, 176, 255);
--glow-spread-color: rgba(191, 123, 255, 0.781);
--enhanced-glow-color: rgb(231, 206, 255);
--btn-color: rgb(100, 61, 136);
border: .25em solid var(--glow-color);
padding: 1em 3em;
color: var(--glow-color);
font-size: 15px;
font-weight: bold;
background-color: var(--btn-color);
border-radius: 1em;
outline: none;
box-shadow: 0 0 1em .25em var(--glow-color),
        0 0 4em 1em var(--glow-spread-color),
        inset 0 0 .75em .25em var(--glow-color);
text-shadow: 0 0 .5em var(--glow-color);
position: relative;
transition: all 0.3s;
}

.lastBtn::after {
pointer-events: none;
content: "";
position: absolute;
top: 120%;
left: 0;
height: 100%;
width: 100%;
background-color: var(--glow-spread-color);
-webkit-filter: blur(2em);
        filter: blur(2em);
opacity: .7;
transform: perspective(1.5em) rotateX(35deg) scale(1, .6);
}

.lastBtn:hover {
color: var(--btn-color);
background-color: var(--glow-color);
box-shadow: 0 0 1em .25em var(--glow-color),
        0 0 4em 2em var(--glow-spread-color),
        inset 0 0 .75em .25em var(--glow-color);
}

.card:last-child {
    background-color: #000;
    justify-content: center;
    overflow: visible;
}

.card:last-child .btns {
    margin-top: 50px;
    position: relative;
    top:123px ;
}

.card:last-child .btn {
    border: 2px solid var(--bg-color);
    color: var(--bg-color);
    background: var(--main-color);
}

.card:last-child .btn:hover {
    background: var(--bg-color);
    color: var(--main-color);
    }

@media (max-width: 541px) {
.wrapper {
    width: 300px; /* Updated wrapper width */
}

.card {
    width: 300px; /* Adjusted width */
    min-width: 300px; /* Ensure minimum width */
    height: 460px; /* Adjusted height */
}

.card:last-child {
    margin-right: 15px; /* Adjusted margin */
}

.big-img {
    height: 220px; /* Adjusted height */
}

.mini-img {
    width: 90px; /* Adjusted size */
    height: 90px; /* Adjusted size */
    top: calc(50% - 48px); /* Adjusted positioning */
}

.mini-img img {
    width: 80px; /* Adjusted size */
    height: 80px; /* Adjusted size */
}

.card-title {
    margin-top: 50px; /* Adjusted margin */
    font-size: 16px; /* Adjusted font size */
}

.card-subtitle {
    margin-top: 8px; /* Adjusted margin */
    font-size: 13px; /* Adjusted font size */
}
}

/* Specific adjustments for Firefox */
@-moz-document url-prefix() {
    .carousel {
        display: -moz-flex; /* Use -moz-flex for flexbox in Firefox */
        -moz-gap: 20px; /* Gap for Firefox */
        justify-content: flex-start; /* Adjust as needed */
    }

    .carousel::-webkit-scrollbar {
        display: none; /* Ensure scrollbar is still hidden for other browsers */
    }

    .card {
        -moz-scroll-snap-type: x mandatory;
    }

    .card:last-child {
        margin-right: 20px;
    }
}
    </style>
</head>
<body>


<div class="wrapper">
    <div class="carousel">
        <div class="card">
            <div class="big-img"><img src="card1big.jpg" alt="Card 1"></div>
            <div class="mini-img"><img src="app-icon.png" alt="Avatar 1"></div>
            <div class="card-title">welcome to sharing app</div>
            <div class="card-subtitle">Effortlessly share files across your local network with our secure and user-friendly app. Let’s get started!</div>
            <div class="btns">
                <button class="btn left">Previous</button>
                <button class="btn right">Next</button>
            </div>
        </div>
        <div class="card">
            <div class="big-img"><img src="card2big.jpg" alt="Card 2"></div>
            <div class="mini-img"><img src="card2mini.png" alt="Avatar 2"></div>
            <div class="card-title">Easy File Sharing</div>
            <div class="card-subtitle">Share files with anyone on your local network in just a few taps. No need for internet connection or complex setups</div>
            <div class="btns">
                <button class="btn left">Previous</button>
                <button class="btn right">Next</button>
            </div>
        </div>
        <div class="card">
            <div class="big-img"><img src="card3big.png" alt="Card 3"></div>
            <div class="mini-img"><img src="card3mini.png" alt="Avatar 3"></div>
            <div class="card-title">Secure and Private</div>
            <div class="card-subtitle">Your privacy is our priority. All files are shared securely within your local network, ensuring your data stays safe.</div>
            <div class="btns">
                <button class="btn left">Previous</button>
                <button class="btn right">Next</button>
            </div>
        </div>
        <div class="card">
            <div class="big-img"><img src="card4big.png" alt="Card 4"></div>
            <div class="mini-img" style="box-shadow: inset 0 4px 9px 0px #9E9E9E;"><img src="card4mini.png" alt="Avatar 4"></div>
            <div class="card-title">Beautiful Interface</div>
            <div class="card-subtitle">Enjoy a seamless experience with our intuitive and visually appealing design. File sharing has never looked this good!</div>
            <div class="btns">
                <button class="btn left">Previous</button>
                <button class="btn right">Next</button>
            </div>
        </div>
        <div class="card">
            <button class="lastBtn"> Get started</button>
            <div class="btns">
                <button class="btn left">Previous</button>
                <button class="btn right">Next</button>
            </div>
        </div>
    </div>
    <ul class="dots">
        <li class="dot active" data-index="0"></li>
        <li class="dot" data-index="1"></li>
        <li class="dot" data-index="2"></li>
        <li class="dot" data-index="3"></li>
        <li class="dot" data-index="4"></li>
    </ul>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const carousel = document.querySelector(".carousel");
    const arrowBtns = document.querySelectorAll(".btn");
    const wrapper = document.querySelector(".wrapper");
    const dots = document.querySelectorAll(".dot");
    const lastBtn = document.querySelector(".lastBtn");

    const firstCard = carousel.querySelector(".card");
    const firstCardWidth = firstCard.offsetWidth + 20; // Adjust for gap

    let timeoutId,
        currentIndex = 0;

    const updateDots = () => {
        const newIndex = Math.round(carousel.scrollLeft / firstCardWidth);
        if (newIndex !== currentIndex) {
            currentIndex = newIndex;
            dots.forEach((dot, idx) => {
                dot.classList.toggle("active", idx === currentIndex);
            });
            updateCards();
        }
    };

    const updateCards = () => {
        const cards = carousel.querySelectorAll(".card");
        cards.forEach((card, idx) => {
            card.classList.toggle("active", idx === currentIndex);
            card.classList.toggle("inactive", idx !== currentIndex);
        });
    };

    const handleArrowClick = (direction) => {
        const maxIndex = dots.length - 1;

        // Handle end condition
        if (currentIndex === maxIndex && direction === 1) {
            AndroidNativeInterface.endTutorial();
        }

        currentIndex = Math.min(Math.max(currentIndex + direction, 0), maxIndex);
        carousel.scrollBy({
            left: direction * firstCardWidth,
            behavior: "smooth"
        });
        updateDots();
        updateCards();
    };

    const handleDotClick = (index) => {
        currentIndex = index;
        carousel.scrollTo({
            left: index * firstCardWidth,
            behavior: "smooth"
        });
        updateDots();
        updateCards();
    };

    carousel.addEventListener("scroll", updateDots);

    arrowBtns.forEach(btn => {
        btn.addEventListener("click", () => {
            const direction = btn.classList.contains("left") ? -1 : 1;
            handleArrowClick(direction);
        });
    });

    dots.forEach(dot => {
        dot.addEventListener("click", () => {
            const index = parseInt(dot.getAttribute("data-index"));
            handleDotClick(index);
        });
    });

    lastBtn.onclick = () => {
        AndroidNativeInterface.endTutorial();
    };

    updateCards();

    // Prevent swipe on touch devices
    let startX;
    let startY;

    carousel.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
    });

    carousel.addEventListener('touchmove', (e) => {
        const deltaX = e.touches[0].clientX - startX;
        const deltaY = e.touches[0].clientY - startY;

        if (Math.abs(deltaX) > Math.abs(deltaY)) {
            e.preventDefault(); // Prevent horizontal swipe
        }
    });
});

function setVhProperty() {
    var vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

// Set the initial value
setVhProperty();

// Update the value on resize
window.addEventListener('resize', setVhProperty);


document.addEventListener("DOMContentLoaded", function() {
    const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;

    if (isFirefox) {
        const carousel = document.querySelector('.wrapper .carousel');
        carousel.style.justifyContent = 'flex-start'; // Adjusted for Firefox
    }
});

</script>
<script>
    document.addEventListener("DOMContentLoaded", function() {
    const carousel = document.querySelector(".carousel");
    const arrowBtns = document.querySelectorAll(".btn");
    const dots = document.querySelectorAll(".dot");
    const lastBtn = document.querySelector(".lastBtn");

    const firstCard = carousel.querySelector(".card");
    const firstCardWidth = firstCard.offsetWidth + 20; // Adjust for gap

    let currentIndex = 0;

    const updateDots = () => {
        const newIndex = Math.round(carousel.scrollLeft / firstCardWidth);
        if (newIndex !== currentIndex) {
            currentIndex = newIndex;
            dots.forEach((dot, idx) => {
                dot.classList.toggle("active", idx === currentIndex);
            });
            updateCards();
        }
    };

    const updateCards = () => {
        const cards = carousel.querySelectorAll(".card");
        cards.forEach((card, idx) => {
            card.classList.toggle("active", idx === currentIndex);
            card.classList.toggle("inactive", idx !== currentIndex);
        });
    };

    const handleArrowClick = (direction) => {
        const maxIndex = dots.length - 1;
        currentIndex = Math.min(Math.max(currentIndex + direction, 0), maxIndex);
        carousel.scrollBy({
            left: direction * firstCardWidth,
            behavior: "smooth"
        });
        updateDots();
        updateCards();
    };

    const handleDotClick = (index) => {
        currentIndex = index;
        carousel.scrollTo({
            left: index * firstCardWidth,
            behavior: "smooth"
        });
        updateDots();
        updateCards();
    };

    carousel.addEventListener("scroll", updateDots);

    arrowBtns.forEach(btn => {
        btn.addEventListener("click", () => {
            const direction = btn.classList.contains("left") ? -1 : 1;
            handleArrowClick(direction);
        });
    });

    dots.forEach((dot, index) => {
        dot.addEventListener("click", () => {
            handleDotClick(index);
        });
    });

    lastBtn.onclick = () => {
        // Handle last button click action
    };

    updateCards();

    // Prevent swipe on touch devices
    let startX;
    let startY;

    carousel.addEventListener('touchstart', (e) => {
        startX = e.touches[0].clientX;
        startY = e.touches[0].clientY;
    });

    carousel.addEventListener('touchmove', (e) => {
        const deltaX = e.touches[0].clientX - startX;
        const deltaY = e.touches[0].clientY - startY;

        if (Math.abs(deltaX) > Math.abs(deltaY)) {
            e.preventDefault(); // Prevent horizontal swipe
        }
    });

    // Adjust styles for Firefox
    const isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;
    if (isFirefox) {
        const wrapper = document.querySelector('.wrapper');
        const carousel = wrapper.querySelector('.carousel');
        carousel.style.justifyContent = 'flex-start'; // Adjust as needed for Firefox
    }

    // Set initial VH property and update on resize
    function setVhProperty() {
        var vh = window.innerHeight * 0.01;
        document.documentElement.style.setProperty('--vh', `${vh}px`);
    }

    setVhProperty();
    window.addEventListener('resize', setVhProperty);
});

</script>

</body>
</html>